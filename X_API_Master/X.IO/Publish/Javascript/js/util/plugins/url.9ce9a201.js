define("/js/util/plugins/url.9ce9a201",[],function(){function t(r){if(!(this instanceof t))return new t(r);var n=[location.protocol,"//",location.host,location.pathname,location.search,location.hash],a=["",""];return r&&(n=r.match(e))&&(n=[n[1],n[2],n[3],n[4]||"/",n[5]||"",n[6]||""]),n[5]&&(a=n[5].match(o))&&(a=[a[1],a[2]||""]),n[4]=p(n[4]),c(this,{path:n,params:f(n[4]),hashPath:p(a[0]),hashQuery:f(a[1])}),this}var r=function(){return function(t){return{}.toString.call(t)==="[object "+type+"]"}},n=r("String"),a=r("Object"),i=/([^&]+?)=(.+?)(?:&|$)/g,e=/([A-Za-z:]+)(\/\/)([A-Za-z0-9\.:]+)([^\?#]+)(\?[^#]+)?(#.+)?/,o=/^#([^\?#]+)(\?[^#]+)?/,h=/\/\.\//g,s=/\/[^\/]+\/\.\.\//,u=/([^:\/])\/+\//g,c=function(t,r){t=t||{};for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);return t},f=function(t){for(var r,n={},a=t&&t.substring(1);r=i.exec(a);)n[r[1]]=unescape(r[2]);return n},p=function(t){for(t=t.replace(h,"/").replace(u,"$1/");t.match(s);)t=t.replace(s,"/");return t};return c(t.prototype,{toString:function(){return this.path.join("")},search:function(t,r){var i=this.params,e=[];if(n(t)){if(!r)return i[t];i[t]=r}else if(a(t))for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);for(var h in i)i.hasOwnProperty(h)&&e.push(h+"="+i[h]);return e.length&&(this.path[3]="?"+e.join("&")),this},hash:function(t,r){var i=this.hashQuery,e=[];if(n(t)){if(!r)return i[t];i[t]=r}else if(a(t))for(var o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);for(var h in i)i.hasOwnProperty(h)&&e.push(h+"="+i[h]);return this.path[5]=[this.hashPath,e.length?"?"+e.join("&"):""].join(""),this}}),t});