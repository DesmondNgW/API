using System;
using System.Collections.Concurrent;
using System.Linq;
using System.Threading;
using X.Util.Core;
using X.Util.Entities;
using X.Util.Extend.Mongo;
using X.Util.Other;

namespace X.UI.Consoles
{
    public class Channel
    {
        public static ConcurrentQueue<int> Queue = new ConcurrentQueue<int>();
        private static readonly ManualResetEvent EventWait = new ManualResetEvent(false);

        public void Init()
        {
            for (var i = 4; i < 5; i++) In(i);
        }

        public void In(int i)
        {
            Queue.Enqueue(i);
            EventWait.Set();
        }

        public int Out()
        {
            int r;
            Queue.TryDequeue(out r);
            Thread.Sleep(1000);
            return r;
        }

        public void Test()
        {
            while (true)
            {
                var o = Out();
                if (o == default(int))
                {
                    EventWait.Reset();
                    EventWait.WaitOne();
                }
                else
                {
                    Console.WriteLine(DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss.fff>") + o);
                    break;
                }
            }
        }
    }

    public class Stock : MongoBaseModel
    {
        public string Code { get; set; }

        public string Amount { get; set; }

        public string Rate { get; set; }

        public DateTime Now { get; set; }

        public Stock(string code)
        {
            var format = "http://qt.gtimg.cn/q=ff_{0}{1}";
            var uri = string.Format(format, code.StartsWith("6") ? "sh" : "sz", code);
            var result = HttpRequestBase.GetHttpInfo(uri, "utf-8", "application/json", null, string.Empty);
            if (result.Success)
            {
                var arr = result.Content.Split('~');
                if (arr.Length <= 3) return;
                Id = code + "_" + DateTime.Now.ToString("yyyy-MM-dd");
                Code = code;
                Amount = arr[3];
                Rate = arr[4];
                Now = DateTime.Now;
            }
        }
    }


    class Program
    {
        static void Main()
        {
            var code =
                "000818|600936|603159|600640|600353|300218|002365|300533|002809|002779|603031|601811|300540|300535|300532|300531|300530|300529|300527|300459|300451|300422|300346|300292|002808|002806|002695|000793|000595|603986|603663|603569|603515|601595|300528|300526|600322|000790|600141|000935|002713|300242|300173|300503|002113|000955|002118|002691|002584|002201|300507|002549|600593|002425|002141|300382|002802|600977|002200|300525|600211|002110|300331|300174|300167|603861|300474|601099|300362|600409|300381|300116|002791|603223|300236|600183|002402|600917|300057|002762|002086|600693|603003|601689|002371|600738|601222|300256|002765|603616|002434|600596|600677|002246|000959|002468|002256|600667|600078|002693|002548|002529|300020|002056|600438|300026|002396|300198|603778|603311|603020|600856|300049|600602|300407|000906|603919|000690|002234|000502|300363|002037|603936|002144|002149|002333|300303|300428|600661|002012|000404|000608|002170|002652|600843|002578|000925|603322|300117|000584|600233|000951|600287|300110|603601|601015|300469|600841|600458|600594|300177|601058|002458|002696|002287|300143|002768|300265|600368|002566|002100|600782|300325|002003|603016|002502|002001|300386|002235|002077|002076|002386|600588|300395|002112|300252|603968|300401|300125|600822|002379|002805|603999|600892|300244|000619|300354|002655|002383|000599|300465|000889|601003|600285|600235|600216|002171|000920|600278|603085|002020|300505|600470|300317|300319|002450|300074|000668|600590|002354|300320|600810|002317|002701|002011|000931|600698|600551|300477|300069|600521|600485|300121|002538|603026|300119|000525|002795|300296|600986|300122|600335|300271|300478|002417|000096|600664|600275|300343|300194|002801|002730|002565|000626|300264|300207|000709|600626|002733|600985|002217|300493|600074|002742|002532|002490|002247|601028|300403|300508|300453|002746|002206|300210|300155|600879|000728|603958|600004|300496|600337|600241|600126|000597|002111|600391|300231|002778|600740|002560|000835|600559|300312|600217|000663|000605|002015|000712|300003|002583|600777|300510|300485|300084|600771|300513|603108|002075|300201|300181|002358|000715|601333|002665|002292|000826|601116|002345|600213|002803|002653|600103|300295|600816|300070|002509|002321|000036|603528|600708|002706|002223|000756|600054|000056|300282|002310|002162|603989|002209|300042|600178|600120|300426|002120|600676|600136|300275|002797|603338|002660|000546|600232|600979|600501|300193|002079|002648|600618|600093|300221|002277|603029|300291|000732|600162|300011|000420|600086|300439|002177|603869|600965|600425|600222|300063|600073|002562|601901|300072|002559|600679|002230|300408|002432|002410|300079|600529|002638|002284|600746|600272|000806|603678|002796|600530|300286|002627|603589|600273|300088|002479|600008|300482|300012|000509|300090|002451|002299|000622|000403|600481|600267|300522|002585|002187|000783|600155|000566|600829|600282|300501|002301|000666|002519|002604|000727|000726|002766|002507|000898|000530|000007|300355|300202|002501|300406|002308|002078|002254|300215|300261|000422|300502|002143|000677|600057|002639|603123|601997|300009|002703|002669|600310|300409|300128|002787|002456|600835|002414|600794|600502|002241|000862|603726|600760|300238|002563|002250|000890|002361|300232|002517|601965|300123|300113|603606|600584|600313|002530|002453|002421|300335|600096|603066|300284|000737|000669|600883|600315|002629|002399|002157|000919|600587|000952|000903|000571|000526|000498|600999|002698|002511|600737|600328|600240|000900|603555|600598|300455|600785|300476|002647|002213|600201|002260|000786|600844|000811|002108|002074|600307|002369|603118|002088|000333|603698|002180|300316|600809|600300|300196|600978|600703|600010|300280|002291|603366|601169|600808|300394|002551|600369|002673|002347|000711|000708|600507|600360|000897|600506|002718|000686|000419|300470|002777|002225|002034|600449|000503|601555|600469|300443|300230|002330|603011|601098|300106|000971|600188|300369|300267|002025|000698|002628|603000|601238|002760|002099|000586|603019|600030|300405|002603|002251|600797|002619|000759|000593|600403|300370|002424|603198|600436|600242|600097|300421|002102|603588|600400|600006|300200|002541|002418|600834|002715|002309|002759|002282|002193|600247|002793|002667|000820|603898|601929|600757|600754|600532|002620|002374|002125|000733|600208|600196|300199|002788|002679|002002|601211|600758|600505|300087|300014|002485|002033|600864|600609|300197|002472|002471|002004|603006|300195|002500|601088|300220|300078|002503|601798|600662|600855|600518|002022|600877|600827|000046|601898|000703|000544|000543|601888|601788|300304|300136|000613|600569|600386|300262|002444|002281|000788|600983|002747|002169|601998|600016|002145|000913|601288|601198|300273|000815|000695|601688|600415|600390|300254|600399|000902|600701|600062|000662|601908|002048|002019|000825|000750|300165|300022|002800|601233|600421|300054|002137|600958|600889|600395|002397|002194|002041|000895|000612|002082|002014|000416|603008|002226|601139|000987|000813|601607|600426|000985|601939|600117|600015|002662|002390|002107|600753|600604|002773|000607|300498|300182|002761|600143|600109|002348|000596|600373|000961|600061|002705|000655|600276|002010|000910|000001|600731|600199|600107|300126|002072|000421|300015|002312|000801|600070|000930|002611|002443|300309|300118|000776|600007|002649|002557|603806|603328|600745|300115|600600|002670|002462|002729|603977|603887|603883|603843|603838|603703|603658|603599|603393|603189|603100|603090|603067|603025|603007|601988|601900|601789|601601|601398|601299|601268|601216|601206|601163|601128|601101|601005|600997|600991|600908|600899|600896|600890|600885|600884|600878|600852|600849|600842|600840|600837|600832|600821|600817|600813|600799|600796|600788|600786|600773|600772|600768|600764|600762|600752|600735|600734|600732|600710|600709|600700|600687|600675|600672|600671|600670|600669|600666|600659|600656|600653|600651|600649|600646|600636|600634|600632|600631|600627|600625|600621|600614|600607|600591|600577|600576|600556|600553|600545|600540|600538|600500|600483|600480|600475|600472|600455|600418|600408|600397|600379|600357|600349|600339|600330|600321|600318|600306|600296|600286|600263|600255|600253|600231|600226|600212|600209|600205|600189|600182|600181|600173|600146|600145|600110|600102|600092|600087|600079|600071|600065|600022|600021|600019|600005|600003|600002|600001|300543|300541|300539|300538|300537|300536|300534|300488|300472|300466|300461|300447|300437|300434|300432|300427|300423|300414|300413|300411|300402|300398|300374|300372|300365|300361|300359|300353|300351|300340|300338|300334|300323|300310|300308|300300|300299|300293|300279|300227|300223|300219|300190|300186|300184|300180|300179|300176|300166|300163|300148|300142|300120|300111|300080|300053|300052|300050|300047|300046|300044|300040|300038|300035|300023|002812|002811|002810|002807|002756|002752|002745|002735|002732|002725|002720|002710|002685|002663|002656|002654|002632|002631|002630|002624|002621|002617|002615|002610|002608|002591|002576|002574|002571|002558|002526|002525|002513|002512|002492|002478|002476|002465|002464|002447|002445|002389|002382|002377|002355|002326|002320|002319|002316|002311|002297|002289|002283|002280|002278|002266|002257|002207|002175|002156|002129|002127|002101|002094|002071|002061|002059|002057|002055|002053|002052|002035|002017|000991|000975|000956|000950|000927|000923|000916|000866|000832|000827|000822|000817|000812|000805|000803|000787|000769|000765|000763|000757|000730|000723|000720|000710|000699|000693|000689|000675|000671|000660|000659|000658|000653|000651|000639|000629|000621|000618|000617|000611|000602|000598|000594|000588|000583|000582|000578|000576|000569|000565|000562|000556|000555|000553|000549|000547|000542|000538|000535|000534|000533|000527|000524|000522|000515|000511|000508|000505|000504|000429|000412|000409|000407|000406|000405|000338|000155|000100|000063|000047|000045|000043|000037|000033|000024|000015|000013|000004|000003|300109|603368|600847|300516|002522|002595|000501|603729|600128|300515|600293|002480|603788|600176|300259|002423|000881|000719|000153|600290|002407|600887|002495|002455|001896|300226|002021|603306|000415|603988|600851|600348|300203|000166|600781|600642|600635|002461|601328|600725|600238|000953|601886|002640|002151|603868|601628|600682|600513|600121|002415|600028|300385|000828|000680|600250|300285|300222|002475|000983|601567|600382|000681|000615|600603|002204|000157|600219|300017|601377|600371|300274|002124|300062|603377|601857|600066|600638|600583|300396|300089|002359|601999|600419|300216|002293|600660|000789|600992|600000|300379|002776|601677|600461|600327|002737|600350|300205|600681|300016|002582|002172|000430|002709|002366|601231|600262|600166|300039|002499|000979|000065|600850|300344|300145|002412|000928|600499|300037|002678|000932|600690|600179|300475|002771|000055|600793|600720|600535|600261|300032|002381|000997|000049|603010|601038|600338|000933|000860|603188|002714|600622|300484|002572|002216|600601|600063|300158|002626|002534|002498|601666|600647|600281|600172|002406|600127|300337|300045|300512|300269|300255|002454|002168|600619|600362|300132|002658|601339|600039|300444|300004|002295|002105|300467|002664|600375|002460|000850|601111|600767|000761|603979|600398|600370|600268|300281|000697|601928|600800|300056|002750|002238|601313|600011|300301|601166|600094|002728|002676|603866|603288|002799|603167|601018|601001|300511|300096|300073|002370|000995|601985|600963|600644|600115|600036|300170|002731|002356|002344|002271|002065|000876|000795|603199|002006|601113|002780|002394|603909|601336|600973|600265|002064|000029|603669|601933|601616|601006|600691|600168|300055|002540|000039|601311|600711|600354|300013|002473|002422|002173|601020|002304|002286|002191|000908|000519|000408|600795|600202|002798|002675|603636|600487|600476|600252|600099|300138|300021|002734|000791|600727|002449|002440|002262|000623|600702|600615|300217|300114|002719|002650|002531|002352|000858|601318|601117|600548|600132|600081|002166|603609|601225|300263|300248|002521|603508|600831|600616|600466|600423|002307|000915|000035|600897|600525|600239|600223|600186|600009|002561|002411|002043|600874|600678|600519|600372|600180|600023|002300|002142|601818|601179|600059|600027|300357|300041|002255|000823|601636|600812|600763|600377|600114|300206|000630|000009|600871|002275|000691|603339|601226|600083|600029|300268|002335|002249|000937|600289|300518|300391|002736|600713|600435|600056|300435|002060|002023|000778|000729|601808|601727|601137|600523|300497|002781|000731|000042|603996|600894|600387|300321|002544|000968|603169|601996|601118|600866|600730|300387|002376|000830|000628|601566|601515|600581|600562|600292|002493|601699|600586|600095|300102|002179|000600|000026|600051|600012|002198|002038|000537|600833|600694|600546|002426|002123|002093|000966|601958|600416|300302|002618|002616|002115|000550|000411|600641|600033|002016|600875|300342|002637|002073|000713|603116|600515|600482|300108|002337|000967|000766|000738|000701|000554|000518|603355|603099|601588|600969|600722|600715|600496|300446|002222|000735|603069|600959|600729|600585|600575|600396|600351|600130|600123|300297|002782|002336|002294|002288|601992|600605|600167|002375|000888|600900|600138|300417|300133|002641|002550|000006|603012|601766|600218|600018|300091|002687|002606|002243|601678|601100|600688|600686|600665|300104|002570|002259|000977|601599|600563|600393|600336|002575|002028|603993|600721|600624|600323|600308|600106|300463|300430|300245|002646|002580|002385|002159|002024|000963|603158|600068|002050|601991|600898|600135|002601|002408|603088|600706|600320|300392|300347|300294|300233|002677|002533|002420|002186|000685|603168|603166|600823|600080|300521|300433|300360|300339|000717|600340|600228|002749|002428|002267|002233|000883|000869|600566|600234|300330|002543|002340|002274|002161|002136|000552|300449|300324|002708|002298|002205|600069|600026|300283|300270|002419|002185|002109|000810|601558|601158|600789|600692|600100|300333|300305|002659|002083|002068|000705|000560|603699|600717|600429|002763|002537|601155|600673|600366|300249|300149|300067|002520|002018|000635|600845|600779|600433|600177|600076|300375|002726|000561|603315|002429|002258|002116|000780|000650|601369|600578|600498|002448|002413|002007|000819|600848|600597|600479|600050|300440|002214|002153|000673|300141|300075|002666|002636|000752|000572|600824|600803|600038|300412|300043|002030|000418|000156|600881|600869|600617|600599|600527|600388|300135|002459|002433|002339|002165|000993|000558|603558|600995|600775|300499|002682|002623|002581|002342|000886|000585|600718|300213|300153|002688|002338|002231|002097|002042|000989|000523|601008|600828|600736|600580|600452|600329|600301|600279|600017|002661|002482|002080|000551|601199|300287|300082|002489|002049|000969|000797|603002|601866|600990|600861|600197|600157|002546|000089|603808|600269|600098|300129|002372|002167|000514|000014|600993|600495|300234|002554|002404|000545|000425|603005|603001|600766|600401|600163|300415|300243|002792|002527|002477|002323|000739|000031|601801|601600|601518|601107|600970|600815|300187|300028|002683|002303|000158|603918|601208|600860|600765|600561|600489|600271|600125|300384|002401|002195|002178|002121|600880|600657|600510|600444|300517|300250|002463|002357|000978|000868|000070|601608|601009|600654|600389|300266|300214|002569|002457|000027|603023|600778|600227|300314|300204|002748|002327|002190|002160|000809|000799|600526|002539|002508|002367|002272|002203|002119|000568|000059|600888|600862|600299|300246|002684|002613|000632|603779|603567|601168|600739|600236|300418|300400|300235|300147|002614|002596|002452|002103|000957|000792|601872|601016|600982|600858|600857|600317|600077|002360|002353|002270|002140|002122|002039|600156|300327|002487|002252|002005|001979|600769|300253|002505|000609|000557|603800|600976|600567|600493|600148|300289|300239|002790|002393|002318|601186|300278|300124|002510|002244|002155|002150|002138|000836|000816|000670|000060|603018|600798|600385|002625|002197|002188|000990|603456|600606|300272|300175|001696|601368|601258|600467|600206|300377|300348|002362|000707|000570|600790|600448|600319|600257|600151|300146|002104|000722|600303|002553|000976|000831|603111|603015|600859|300315|002757|002707|002032|000540|000150|000022|603308|600522|600420|600221|600210|002398|002058|000998|601177|600742|600572|600343|600316|600060|300258|300093|002643|601899|600792|600787|600509|300364|300036|000861|000606|603268|601989|600802|600723|600719|600652|600558|600031|002332|000768|000682|000012|601918|600825|600750|600611|300139|002772|002594|002139|000800|000548|601700|600714|600582|600111|600053|002592|000917|000539|600620|600150|300452|300103|002524|002183|603369|300480|300018|002484|002126|000679|601777|600961|600568|300326|300058|002721|002265|000972|000779|000078|600886|600589|600549|600428|300192|300152|300059|002753|600811|600405|600089|300151|300098|002324|002128|002051|002031|000657|603519|601969|600258|600198|300492|300229|300030|002697|002152|000899|000856|603969|600962|600695|600508|600288|600091|300367|300366|300071|002577|002364|002263|002227|000878|600592|002545|002331|002181|000948|000702|601519|600830|600650|600565|600058|300383|002302|002148|000637|603885|600806|300494|300247|300189|300006|002567|002269|000912|000767|000516|603701|601799|600550|600488|300171|002644|002642|000938|000852|000725|600971|600867|600547|600536|300425|002026|000589|603688|600332|300240|002680|002117|000782|000601|603718|601126|601069|600893|600658|600207|300350|300169|002085|603518|603009|600981|600297|600169|600116|300257|300001|002702|002466|603128|600195|300456|002535|002441|002315|002237|002224|002013|000926|600331|600190|002430|002036|000929|000859|000777|600980|600846|600410|600284|002363|002091|002090|000996|600573|600249|300460|300368|300209|300140|002692|002552|002392|002027|000988|601919|601218|601000|600108|002588|000863|000718|000541|000532|601890|600891|600088|300345|002727|002506|000068|000028|603299|600873|600743|600633|600462|300099|002711|002436|603998|600783|600295|300436|300393|300144|300134|002497|002220|600984|600367|300486|601669|300404|300225|002579|601002|600478|002573|002045|000877|000837|603997|600975|600153|300164|002668|603686|600761|600159|300328|002494|601718|601188|600872|600648|002334|002279|002096|000520|600699|600497|600356|300490|300388|300024|002672|002542|002245|002081|000038|603798|600613|600378|300127|002405|000875|000023|603566|603520|600610|600552|300161|000513|600355|600305|600122|600067|300077|002657|002388|002239|000949|000019|603608|601106|600460|002722|002384|002154|000625|000151|600645|600225|300094|300085|002564|002221|000563|603822|603568|600863|600819|600748|300491|300048|002273|000636|600528|600280|300373|300329|300188|300156|002589|002467|000760|601611|600756|600704|600560|002587|002470|002232|002202|000901|000753|000002|601877|002741|002176|000559|000021|000008|601010|600608|600595|300445|002789|002242|000061|601633|600439|600118|300352|002598|002438|000506|000062|600185|300416|002740|002599|000700|603028|600839|600674|300397|300178|002689|002134|000980|000417|000030|603318|603017|600960|600741|600152|002491|002290|000088|601880|600876|600784|600724|002767|002314|000069|603077|600643|600456|300107|002586|002518|002346|002210|000090|603227|300160|300157|002783|002350|000880|000301|603598|603131|600637|600555|600243|300429|002437|601127|300086|002600|002192|000507|600780|600381|600256|600170|300095|002651|002092|000665|600291|600220|300410|300332|002009|000716|000528|601021|600630|600490|600312|600112|300051|300005|002387|002268|000048|000032|600655|600072|002496|600684|600520|300371|002755|002609|002054|000692|603309|600998|600967|600531|300457|300033|603901|601388|600537|300228|300162|002488|002439|002229|000960|000587|603789|600805|600048|300438|300212|002240|000428|000159|600728|600579|300131|002597|002084|600161|600064|300358|300172|300130|300083|002738|002215|000821|000678|000567|600854|600759|600392|300380|300341|300288|300183|002351|002089|002069|000893|600791|002635|002536|002174|603300|300523|002770|002135|000758|603737|600987|600325|600184|300471|300112|300029|002700|002261|002063|000025|601618|300376|300277|002368|002130|000590|601007|600853|600689|600298|300065|002602|000591|603618|601579|600988|600807|600158|300251|002769|002066|600246|300241|300237|300066|002395|002313|603398|600302|300290|300101|002523|002248|601668|600491|600309|300419|300306|002474|002253|000040|600352|600260|300448|300154|002400|600346|000936|000531|603889|600075|600251|002446|600229|600137|600104|603939|600311|600270|002590|300509|600571|000798|000536|603027|300424|002724|002483|002163|000796|000751|600035|002674|002296|000962|000018|300168|002211|600966|600406|000965|002556|002514|002236|000529|002305|603101|600237|002098|000616|300519|002739|002612|000581|600870|600365|600363|002341|600836|600277|300034|000517|600749|600685|002228|000973|000892|603600|600820|600052|300389|300105|300064|300027|002218|000627|300010|000521|000005|600868|000066|300185|600755|002671|601800|600919|300489|002158|002391|002189|000016|600361|002040|000970|600422|300483|002723|002634|002095|000885|000661|603333|300487|000564|600557|000748|600446|300520|300061|300431|300356|300311|300224|000922|603696|300399|300260|002743|000676|600192|002070|603959|600432|002690|600511|300442|601966|300468|000982|600683|600037|000410|600628|300349|002699|600516|600333|002786|002131|300462|002147|600129|300307|600612|000010|600259|300420|600814|002431|600726|002435|000838|000656|600882|600119|300481|002106|600101|600818|600744|600623|600266|002555|000785|000423|603899|002442|300378|000999|000909|000882|000603|601717|300318|002633|002044|000887|002276|000401|300068|603799|600203|300313|002607|002132|000807|000667|600639|600085|002378|002164|600680|300137|600696|600517|600477|600215|000672|000020|601390|600770|000905|000839|000099|600283|300081|002758|002681|300025|600193|002067|000011|603126|300276|000688|000683|600503|002686|600697|000058|300322|000829|600865|600486|600345|300458|002322|000400|600663|002133|603022|300464|300031|300008|000762|600668|300092|600358|002199|600113|002694|002469|000687|603117|600055|300159|000050|002547|002029|600133|002605|002593|002373|600326|002285|603030|600160|002528|002504|601012|600801|600733|002062|300479|600539|603611|600463|002716|002349|000488|600468|300473|600707|600459|300100|002380|002416|600248|600171|600020|002785|002717|002146|600716|600543|002481|000958|603766|603818|300450|300441|002409|002087|000592|300390|002114|000017|002219|600747|600359|600084|600533|300076|000721|002184|000652|300191|300019|603222|600200|300007|000802|600090|600105|600804|601968|002751|600165|002645|002427|000426|300150|002403|002182|600131|000833|600826|600376|002328|600774|002196|002325|000413|600175|603399|600776|002343|300298|000034|603828|002775|002622|300208|300097|000939|000911|600383|300495|000848|600149|000921|002568|000510|600512|002008|600570|002212|300002|300336|600705|002486|600082|000755|000573|000631|600712|002047|002046|002264|600629|002515|002712|600191|000610|300211|002306|600230|000633|300500|000736|600895|000918|000851|002516|000402|600380|000620|603021|002208|601011|300506|600838|000638|600139|600187|600751|002329|000981";
            //Console.WriteLine(ThirdPartyTest.CouchBaseTest());
            var arr = code.Split('|');
            foreach (var s in arr.Select(t => new Stock(t)).Where(s => !string.IsNullOrEmpty(s.Code)))
            {
                MongoDbBase<Stock>.Default.SaveMongo(s, "Stock", "Flow", null);
                Console.WriteLine(s.ToJson());
            }
            //Index();
            //var c1 = new Channel();
            //var c2 = new Channel();
            //var c3 = new Channel();
            //c2.Init();
            //var th = new Thread(() =>
            //{
            //    c1.Test();
            //    c1.In(7);
            //});
            //var th2 = new Thread(() =>
            //{
            //    c2.Test();
            //    c2.In(8);
            //});
            //var th3 = new Thread(() =>
            //{
            //    c3.Test();
            //    c3.In(9);
            //});
            //th.Start();
            //th2.Start();
            //th3.Start();

            //Console.WriteLine(ThirdPartyTest.CouchBaseTest());

            //Func<string, int, string> pad = (s, c) => s.Length < c ? string.Join("0", new string[c - s.Length + 1]) + s : s;

            //var result = new List<string>();
            //for (var i = 2; i <= 999999; i++)
            //{
            //    var count = 0;
            //    for (var j = 2; j <= Math.Sqrt(i); j++)
            //    {
            //        if (i % j != 0) continue;
            //        count++;
            //        break;
            //    }
            //    if (count != 0) continue;
            //    if ((i >= 1000 || i <= 0) && (i < 2000 || i >= 3000) && (i < 300000 || i >= 301000) &&
            //        (i < 600000 || i >= 610000)) continue;
            //    var uri = "http://hq.sinajs.cn/list=sh" + pad(i.ToString(), 6);
            //    var d = HttpRequestBase.GetHttpInfo(uri, "utf-8", "application/json", null, string.Empty);
            //    if (d.Content.Length < 50) continue;
            //    Console.WriteLine(pad(i.ToString(), 6));
            //    result.Add(pad(i.ToString(), 6));
            //}
            //Console.WriteLine(result.ToJson());
            Console.ReadKey();
        }

        static void Index()
        {
            Console.Clear();
            Console.WriteLine("┏━━━━━━━━━━━━━━━┓");
            Console.WriteLine("┃\tAPI-Console-Test:\t┃");
            foreach (var item in (EnumApiTestItem[])Enum.GetValues(typeof(EnumApiTestItem)))
            {
                Console.WriteLine("┣━━━━━━━━━━━━━━━┫");
                Console.WriteLine("┃" + (item.GetHashCode() + "." + item).PadRight(30) + "┃");           
            }
            Console.WriteLine("┗━━━━━━━━━━━━━━━┛");
            Next();
        }

        static void Next()
        {
            var input = Console.ReadLine();
            foreach (var item in ((EnumApiTestItem[])Enum.GetValues(typeof(EnumApiTestItem))).Where(item => Equals(item.GetHashCode().ToString(), input)))
            {
                Console.Clear();
                typeof(ApiTestMethods).GetMethod(item.ToString()).Invoke(null, null);
                Index();
                break;
            }
        }
    }
}
